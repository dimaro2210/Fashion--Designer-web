<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Turan Light Shop - Premium backpacks and bags for business and travel">
  <title>Turan Light Shop - Premium Backpacks & Bags</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Playfair+Display:ital,wght@1,700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    /* Base Styles */
    :root {
      --black: #0a0a0a;
      --darker: #121212;
      --darkest: #1a1a1a;
      --gray: #444;
      --gray-dark: #333;
      --gray-light: #999;
      --white: #fff;
      --gold: #e0b84f;
      --gold-dark: #d4ab3e;
      --red: #f00;
      --transition: all 0.3s ease;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    html {
      scroll-behavior: smooth;
    }
    
    body {
      font-family: 'Montserrat', sans-serif;
      background-color: var(--black);
      color: #e5e5e5;
      line-height: 1.6;
    }
    
    /* Typography */
    .font-playfair {
      font-family: 'Playfair Display', serif;
    }
    
    h1, h2, h3, h4 {
      line-height: 1.2;
    }
    
    /* Layout */
    .container {
      width: 100%;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 15px;
    }
    
    .flex {
      display: flex;
    }
    
    .flex-col {
      flex-direction: column;
    }
    
    .items-center {
      align-items: center;
    }
    
    .justify-center {
      justify-content: center;
    }
    
    .justify-between {
      justify-content: space-between;
    }
    
    .gap-1 { gap: 0.25rem; }
    .gap-2 { gap: 0.5rem; }
    .gap-3 { gap: 0.75rem; }
    .gap-4 { gap: 1rem; }
    .gap-6 { gap: 1.5rem; }
    
    /* Spacing */
    .py-1 { padding-top: 0.25rem; padding-bottom: 0.25rem; }
    .py-2 { padding-top: 0.5rem; padding-bottom: 0.5rem; }
    .py-3 { padding-top: 0.75rem; padding-bottom: 0.75rem; }
    .py-4 { padding-top: 1rem; padding-bottom: 1rem; }
    .py-6 { padding-top: 1.5rem; padding-bottom: 1.5rem; }
    .py-8 { padding-top: 2rem; padding-bottom: 2rem; }
    .py-10 { padding-top: 2.5rem; padding-bottom: 2.5rem; }
    
    .px-3 { padding-left: 0.75rem; padding-right: 0.75rem; }
    .px-4 { padding-left: 1rem; padding-right: 1rem; }
    .px-6 { padding-left: 1.5rem; padding-right: 1.5rem; }
    .px-8 { padding-left: 2rem; padding-right: 2rem; }
    
    .mb-1 { margin-bottom: 0.25rem; }
    .mb-2 { margin-bottom: 0.5rem; }
    .mb-3 { margin-bottom: 0.75rem; }
    .mb-4 { margin-bottom: 1rem; }
    .mb-6 { margin-bottom: 1.5rem; }
    
    .mt-6 { margin-top: 1.5rem; }
    .mt-8 { margin-top: 2rem; }
    .mt-10 { margin-top: 2.5rem; }
    
    /* Colors */
    .bg-black { background-color: var(--black); }
    .bg-dark { background-color: var(--black); }
    .bg-darker { background-color: var(--darker); }
    .bg-darkest { background-color: var(--darkest); }
    .bg-gray { background-color: var(--gray); }
    .bg-gray-dark { background-color: var(--gray-dark); }
    
    .text-white { color: var(--white); }
    .text-gray { color: #e5e5e5; }
    .text-gray-light { color: var(--gray-light); }
    .text-gray-dark { color: var(--gray); }
    .text-gold { color: var(--gold); }
    .text-red { color: var(--red); }
    
    /* Borders */
    .border-b { border-bottom: 1px solid; }
    .border-gray { border-color: var(--gray-dark); }
    
    /* Rounded corners */
    .rounded { border-radius: 0.25rem; }
    .rounded-lg { border-radius: 0.5rem; }
    .rounded-full { border-radius: 9999px; }
    
    /* Text sizes */
    .text-xs { font-size: 0.75rem; }
    .text-sm { font-size: 0.875rem; }
    .text-base { font-size: 1rem; }
    .text-lg { font-size: 1.125rem; }
    .text-xl { font-size: 1.25rem; }
    .text-2xl { font-size: 1.5rem; }
    .text-3xl { font-size: 1.875rem; }
    .text-4xl { font-size: 2.25rem; }
    
    /* Font weights */
    .font-light { font-weight: 300; }
    .font-normal { font-weight: 400; }
    .font-medium { font-weight: 500; }
    .font-semibold { font-weight: 600; }
    .font-bold { font-weight: 700; }
    
    /* Grid */
    .grid { display: grid; }
    .grid-cols-1 { grid-template-columns: repeat(1, minmax(0, 1fr)); }
    .grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
    .grid-cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
    .grid-cols-4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }
    
    /* Custom components */
    .top-bar {
      background-color: var(--black);
      color: var(--gray-light);
      font-size: 0.75rem;
      padding: 0.25rem 0;
      border-bottom: 1px solid var(--gray-dark);
    }
    
    header {
      position: sticky;
      top: 0;
      background-color: var(--black);
      border-bottom: 1px solid var(--gray-dark);
      transition: var(--transition);
      z-index: 100;
    }
    
    header.scrolled {
      padding: 0.5rem 0;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
    }
    
    header.scrolled .logo {
      transform: scale(0.9);
    }
    
    .logo {
      font-family: 'Playfair Display', serif;
      color: var(--white);
      font-size: 1.5rem;
      font-weight: 700;
      transition: transform 0.3s ease;
    }
    
    .logo span {
      font-weight: 300;
      font-style: italic;
    }
    
    .product-card {
      background-color: var(--darker);
      border-radius: 0.5rem;
      padding: 1rem;
      position: relative;
      cursor: pointer;
      transition: var(--transition);
      overflow: hidden;
      height: 100%;
      display: flex;
      flex-direction: column;
    }
    
    .product-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
    }
    
    .product-card img {
      width: 100%;
      height: 180px;
      object-fit: contain;
      margin-bottom: 0.75rem;
      transition: transform 0.3s ease;
    }
    
    .product-card:hover img {
      transform: scale(1.05);
    }
    
    .new-badge {
      position: absolute;
      top: 0.75rem;
      left: 0.75rem;
      background-color: var(--gray);
      color: var(--white);
      font-size: 0.625rem;
      padding: 0.25rem 0.5rem;
      border-radius: 0.25rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      z-index: 2;
    }
    
    .wishlist-btn {
      position: absolute;
      top: 0.75rem;
      right: 0.75rem;
      background-color: rgba(0, 0, 0, 0.7);
      color: var(--gray-light);
      width: 28px;
      height: 28px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.875rem;
      border: none;
      cursor: pointer;
      transition: var(--transition);
      z-index: 2;
    }
    
    .wishlist-btn:hover {
      color: var(--white);
      background-color: rgba(0, 0, 0, 0.9);
    }
    
    .wishlist-btn.active {
      color: var(--red);
    }
    
    /* Modal styles */
    .modal-overlay {
      position: fixed;
      inset: 0;
      background-color: rgba(0, 0, 0, 0.9);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 1rem;
      z-index: 1000;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease;
      backdrop-filter: blur(5px);
    }
    
    .modal-overlay.active {
      opacity: 1;
      pointer-events: auto;
    }
    
    .modal-content {
      background-color: var(--darker);
      border-radius: 0.75rem;
      max-width: 56rem;
      width: 100%;
      max-height: 90vh;
      overflow-y: auto;
      padding: 2rem;
      transform: scale(0.95);
      transition: transform 0.3s ease, opacity 0.3s ease;
      opacity: 0;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
    }
    
    .modal-overlay.active .modal-content {
      transform: scale(1);
      opacity: 1;
    }
    
    /* Buttons */
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 0.75rem 1.5rem;
      border-radius: 0.375rem;
      font-size: 0.875rem;
      font-weight: 600;
      text-align: center;
      cursor: pointer;
      transition: var(--transition);
      border: none;
      text-decoration: none;
      white-space: nowrap;
    }
    
    .btn-outline {
      background-color: transparent;
      border: 1px solid var(--white);
      color: var(--white);
    }
    
    .btn-outline:hover {
      background-color: var(--white);
      color: var(--black);
    }
    
    .btn-solid {
      background-color: var(--white);
      color: var(--black);
    }
    
    .btn-solid:hover {
      background-color: #e5e5e5;
    }
    
    .btn-gold {
      background-color: var(--gold);
      color: var(--black);
    }
    
    .btn-gold:hover {
      background-color: var(--gold-dark);
    }
    
    /* Animations */
    @keyframes float {
      0% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
      100% { transform: translateY(0px); }
    }
    
    .floating {
      animation: float 6s ease-in-out infinite;
    }
    
    /* Mobile menu */
    .mobile-menu-btn {
      display: none;
      background: none;
      border: none;
      color: var(--gray-light);
      font-size: 1.5rem;
      cursor: pointer;
      transition: var(--transition);
    }
    
    .mobile-menu-btn:hover {
      color: var(--white);
    }
    
    .mobile-menu {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100vh;
      background-color: var(--black);
      z-index: 999;
      padding: 2rem;
      transform: translateX(-100%);
      transition: transform 0.3s ease;
      overflow-y: auto;
    }
    
    .mobile-menu.active {
      transform: translateX(0);
    }
    
    .mobile-menu-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
      padding-bottom: 1rem;
      border-bottom: 1px solid var(--gray-dark);
    }
    
    .mobile-menu-nav {
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
    }
    
    .mobile-menu-nav a {
      color: var(--white);
      text-decoration: none;
      font-size: 1.25rem;
      transition: var(--transition);
    }
    
    .mobile-menu-nav a:hover {
      color: var(--gold);
    }
    
    /* Cart indicator */
    .cart-indicator {
      position: absolute;
      top: -8px;
      right: -8px;
      background-color: var(--red);
      color: var(--white);
      border-radius: 50%;
      width: 18px;
      height: 18px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.625rem;
      font-weight: 700;
    }
    
    /* Form elements */
    input, textarea, select {
      background-color: var(--darkest);
      border: 1px solid var(--gray-dark);
      border-radius: 0.375rem;
      padding: 0.75rem 1rem;
      color: var(--white);
      width: 100%;
      transition: var(--transition);
    }
    
    input:focus, textarea:focus, select:focus {
      outline: none;
      border-color: var(--gold);
      box-shadow: 0 0 0 2px rgba(224, 184, 79, 0.2);
    }
    
    /* Loading spinner */
    .loading-spinner {
      display: inline-block;
      width: 20px;
      height: 20px;
      border: 3px solid rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      border-top-color: var(--white);
      animation: spin 1s ease-in-out infinite;
    }
    
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    /* Toast notifications */
    .toast {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background-color: var(--darker);
      color: var(--white);
      padding: 1rem 1.5rem;
      border-radius: 0.5rem;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      transform: translateY(100px);
      opacity: 0;
      transition: all 0.3s ease;
      z-index: 1100;
      max-width: 300px;
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }
    
    .toast.show {
      transform: translateY(0);
      opacity: 1;
    }
    
    .toast.success {
      border-left: 4px solid #4CAF50;
    }
    
    .toast.error {
      border-left: 4px solid #F44336;
    }
    
    .toast.warning {
      border-left: 4px solid #FFC107;
    }
    
    .toast-icon {
      font-size: 1.25rem;
    }
    
    /* Responsive */
    @media (max-width: 1024px) {
      .product-card img {
        height: 150px;
      }
    }
    
    @media (max-width: 768px) {
      .mobile-menu-btn {
        display: block;
      }
      
      .desktop-nav {
        display: none;
      }
      
      .grid-cols-2 {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
      
      .hero-section {
        grid-template-columns: 1fr;
      }
      
      .hero-main {
        height: 400px;
      }
      
      .hero-side {
        grid-template-columns: 1fr 1fr;
      }
      
      .hero-side > div {
        height: 190px;
      }
      
      .modal-content {
        padding: 1.5rem;
      }
    }
    
    @media (max-width: 640px) {
      .top-bar {
        font-size: 0.625rem;
        flex-wrap: wrap;
        padding: 0.5rem;
        justify-content: center;
      }
      
      .top-bar > div {
        margin: 0 0.5rem;
      }
      
      .top-bar .social-links {
        display: none;
      }
      
      .grid-cols-2 {
        grid-template-columns: 1fr;
      }
      
      .hero-side {
        grid-template-columns: 1fr;
      }
      
      .hero-side > div {
        height: 150px;
      }
      
      .product-card img {
        height: 120px;
      }
      
      .modal-content {
        padding: 1rem;
      }
      
      .modal-overlay {
        padding: 0.5rem;
      }
    }
    
    /* Accessibility improvements */
    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border-width: 0;
    }
    
    [aria-hidden="true"] {
      display: none;
    }
    
    /* Focus styles for keyboard navigation */
    a:focus, button:focus, input:focus, select:focus, textarea:focus {
      outline: 2px solid var(--gold);
      outline-offset: 2px;
    }
    
    /* Skip to content link */
    .skip-link {
      position: absolute;
      top: -40px;
      left: 0;
      background: var(--gold);
      color: var(--black);
      padding: 0.5rem 1rem;
      z-index: 1000;
      transition: top 0.3s ease;
    }
    
    .skip-link:focus {
      top: 0;
    }
  </style>
</head>
<body>
  <!-- Skip to content link for accessibility -->
  <a href="#main-content" class="skip-link">Skip to main content</a>

  <!-- Top bar -->
  <div class="top-bar flex justify-center items-center gap-2">
    <p>Welcome to our online store!</p>
    <div class="flex items-center gap-1">
      <img alt="English UK flag" class="w-4 h-3 object-cover" src="https://flagcdn.com/w20/gb.png" loading="lazy">
      <span>English</span>
      <span class="text-gray-dark">|</span>
      <button class="hover:text-white cursor-pointer" id="login-btn">Login or Register</button>
    </div>
    <div class="flex gap-3 ml-auto pr-4 social-links">
      <a aria-label="Facebook" class="hover:text-white" href="#" target="_blank" rel="noopener noreferrer">
        <i class="fab fa-facebook-f"></i>
      </a>
      <a aria-label="Twitter" class="hover:text-white" href="#" target="_blank" rel="noopener noreferrer">
        <i class="fab fa-twitter"></i>
      </a>
      <a aria-label="Instagram" class="hover:text-white" href="#" target="_blank" rel="noopener noreferrer">
        <i class="fab fa-instagram"></i>
      </a>
    </div>
  </div>

  <!-- Navigation -->
  <header id="main-header">
    <nav class="container flex items-center justify-between px-4 py-4">
      <div class="flex items-center gap-6">
        <button class="mobile-menu-btn" id="mobile-menu-btn" aria-label="Open menu">
          <i class="fas fa-bars"></i>
        </button>
        <a class="logo" href="#">
          turan<span>light</span>
        </a>
        <ul class="desktop-nav hidden md:flex gap-6 text-gray text-sm font-semibold">
          <li><a class="hover:text-white" href="#">Home</a></li>
          <li><a class="hover:text-white" href="#">Shop</a></li>
          <li><a class="hover:text-white" href="#">Pages</a></li>
          <li><a class="hover:text-white" href="#">About Us</a></li>
          <li><a class="hover:text-white" href="#">Blog</a></li>
        </ul>
      </div>
      <div class="flex items-center gap-4 text-gray text-sm">
        <button aria-label="Cart" class="btn-outline px-3 py-1 relative" id="cart-btn">
          CART <span id="cart-count">0</span>
          <span class="cart-indicator" id="cart-indicator" style="display: none;"></span>
        </button>
        <button aria-label="Search" class="hover:text-white">
          <i class="fas fa-search"></i>
        </button>
        <button id="user-btn" class="hidden md:block hover:text-white" aria-label="Account">
          <i class="fas fa-user"></i>
        </button>
      </div>
    </nav>
  </header>

  <!-- Mobile menu -->
  <div class="mobile-menu" id="mobile-menu">
    <div class="mobile-menu-header">
      <a class="logo" href="#">turan<span>light</span></a>
      <button id="close-mobile-menu" aria-label="Close menu">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <nav class="mobile-menu-nav">
      <a href="#">Home</a>
      <a href="#">Shop</a>
      <a href="#">Pages</a>
      <a href="#">About Us</a>
      <a href="#">Blog</a>
      <a href="#" id="mobile-login-btn">Login/Register</a>
    </nav>
  </div>

  <!-- Main content -->
  <main class="container px-4 py-6 space-y-6" id="main-content">
    <!-- Hero section -->
    <section class="grid grid-cols-1 md:grid-cols-3 gap-4 hero-section">
      <div class="relative md:col-span-2 bg-darker rounded-lg overflow-hidden floating hero-main">
        <img alt="Man with beard wearing beige jacket and carrying a black backpack" 
             class="w-full h-full object-cover" 
             src="https://storage.googleapis.com/a1aa/image/a7263a70-8dee-471c-0a92-20a4682932d2.jpg" 
             loading="lazy">
        <div class="absolute inset-0 bg-gradient-to-r from-black/80 to-black/40 flex flex-col justify-center px-6 md:px-12 text-white">
          <p class="italic text-sm font-playfair mb-1">Summer 2025 Collection!</p>
          <h1 class="font-playfair text-3xl md:text-4xl font-bold leading-tight mb-2">BACKPACKS FOR BUSINESS MEN</h1>
          <p class="text-lg font-semibold mb-4">
            Now Price: <span class="text-gold">€270.00</span>
          </p>
          <div class="flex gap-3">
            <button class="btn-outline">BROWSE</button>
            <button class="btn-solid">SHOP THE LOOK</button>
          </div>
        </div>
      </div>
      <div class="flex flex-col gap-4 hero-side">
        <div class="relative bg-darker rounded-lg overflow-hidden flex flex-col justify-center">
          <img alt="Designer backpack made of brown leather with straps" 
               class="w-full h-full object-cover" 
               src="https://storage.googleapis.com/a1aa/image/5ca514fd-c337-41b0-0fef-7fdff2700c28.jpg" 
               loading="lazy">
          <div class="p-4 text-white absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent">
            <h3 class="font-semibold text-sm mb-1">Designer Backpacks</h3>
            <button class="btn-outline text-xs py-1 px-3">LET'S SHOP</button>
          </div>
        </div>
        <div class="relative bg-darker rounded-lg overflow-hidden flex flex-col justify-center">
          <img alt="Man with beard wearing a gray plaid shirt holding a wooden backpack" 
               class="w-full h-full object-cover" 
               src="https://storage.googleapis.com/a1aa/image/e3fad613-7f1b-453a-1ad9-572232fd51d9.jpg" 
               loading="lazy">
          <div class="p-4 text-white absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent">
            <h3 class="font-semibold text-sm mb-1">Woodman Backpacks</h3>
            <p class="text-gold font-semibold text-xs">€379.00</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Featured Products -->
    <section>
      <h2 class="text-center text-white text-lg font-semibold mb-6">#Featured Products</h2>
      <div class="grid grid-cols-2 sm:grid-cols-4 gap-4" id="featured-products">
        <!-- Product cards will be generated by JavaScript -->
      </div>
    </section>

    <!-- Promo and video -->
    <section class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-6">
      <div class="relative bg-darker rounded-lg overflow-hidden flex items-center px-6 py-8 floating">
        <img alt="Bearded man wearing a blue plaid shirt and backpack" 
             class="w-1/2 object-cover rounded-lg" 
             src="https://storage.googleapis.com/a1aa/image/ddcd2d84-b07e-45e2-b124-d31c064aed90.jpg" 
             loading="lazy">
        <div class="pl-6 text-white w-1/2">
          <p class="text-xs font-playfair italic mb-1">#All Weekend Long</p>
          <h3 class="font-playfair font-bold text-2xl md:text-3xl mb-2">EXTRA 75% OFF</h3>
          <p class="text-xs mb-4">270PA25</p>
          <button class="btn-outline">SHOP NOW</button>
        </div>
      </div>
      <div class="bg-darker rounded-lg overflow-hidden">
        <video class="w-full h-full object-cover rounded-lg" controls 
               poster="https://placehold.co/600x300?text=Summer+2025+Collection" 
               preload="metadata">
          <source src="https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.webm" type="video/webm">
          <source src="https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4" type="video/mp4">
          Your browser does not support the video tag.
        </video>
      </div>
    </section>

    <!-- Weekly Top Selling -->
    <section class="mt-8">
      <h2 class="text-center text-white text-lg font-semibold mb-6">#Weekly Top Selling</h2>
      <div class="grid grid-cols-2 sm:grid-cols-4 gap-4" id="weekly-products">
        <!-- Product cards will be generated by JavaScript -->
      </div>
    </section>

    <!-- Bottom info -->
    <section class="mt-10 border-t border-gray pt-10">
      <p class="text-center text-gray-dark text-xs mb-4">
        *FREE EU DELIVERY - RETURN OVER 30DAYS - COLLECT FROM STORE
      </p>
    </section>
  </main>

  <!-- Product Modal -->
  <div id="product-modal" class="modal-overlay">
    <div class="modal-content">
      <div class="flex justify-between items-start mb-4">
        <h3 class="text-xl font-bold text-white" id="modal-title">Product Title</h3>
        <button id="close-modal" class="text-gray hover:text-white" aria-label="Close product modal">
          <i class="fas fa-times"></i>
        </button>
      </div>
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="bg-darkest p-4 rounded-lg">
          <img id="modal-image" src="" alt="" class="w-full h-64 object-contain rounded-lg" loading="lazy">
        </div>
        
        <div>
          <p class="text-gold text-lg font-bold mb-4" id="modal-price">€0.00</p>
          <p class="text-gray mb-6" id="modal-description">Product description</p>
          
          <div class="flex flex-wrap gap-3 mb-6">
            <button id="add-to-cart" class="btn-gold font-bold py-2 px-6">
              <span id="add-to-cart-text">ADD TO CART</span>
              <span id="add-to-cart-spinner" class="loading-spinner hidden"></span>
            </button>
            <button id="wishlist-btn" class="btn-outline py-2 px-4">
              <i class="far fa-heart mr-2"></i> WISHLIST
            </button>
            <button class="btn-outline py-2 px-4">
              <i class="fas fa-share-alt mr-2"></i> SHARE
            </button>
          </div>
          
          <div class="border-t border-gray pt-4">
            <h4 class="text-white font-semibold mb-2">Product Details</h4>
            <ul class="text-gray text-sm space-y-1" id="product-details">
              <li><span class="text-gray-dark">Material:</span> Premium Leather</li>
              <li><span class="text-gray-dark">Dimensions:</span> 30cm x 20cm x 10cm</li>
              <li><span class="text-gray-dark">Weight:</span> 0.8kg</li>
              <li><span class="text-gray-dark">Color:</span> Black</li>
              <li><span class="text-gray-dark">Warranty:</span> 1 Year</li>
            </ul>
          </div>
        </div>
      </div>
      
      <!-- Related Products -->
      <div class="mt-8 border-t border-gray pt-6">
        <h4 class="text-white font-semibold mb-4">You May Also Like</h4>
        <div class="grid grid-cols-2 sm:grid-cols-4 gap-4" id="related-products">
          <!-- Related products will be inserted here by JavaScript -->
        </div>
      </div>
    </div>
  </div>

  <!-- Auth Modal -->
  <div id="auth-modal" class="modal-overlay">
    <div class="modal-content" style="max-width: 28rem;">
      <div class="flex justify-between items-center mb-6">
        <h3 class="text-xl font-bold text-white" id="auth-modal-title">Login</h3>
        <button id="close-auth-modal" class="text-gray hover:text-white" aria-label="Close authentication modal">
          <i class="fas fa-times"></i>
        </button>
      </div>
      
      <div id="login-form">
        <form class="space-y-4" id="login-form-element">
          <div>
            <label for="login-email" class="block text-gray text-sm mb-1">Email</label>
            <input type="email" id="login-email" class="w-full bg-darkest border border-gray rounded px-4 py-2 text-white focus:outline-none focus:border-gold" required>
          </div>
          <div>
            <label for="login-password" class="block text-gray text-sm mb-1">Password</label>
            <input type="password" id="login-password" class="w-full bg-darkest border border-gray rounded px-4 py-2 text-white focus:outline-none focus:border-gold" required>
          </div>
          <div class="flex justify-between items-center">
            <div class="flex items-center">
              <input type="checkbox" id="remember" class="mr-2">
              <label for="remember" class="text-gray text-sm">Remember me</label>
            </div>
            <a href="#" class="text-gold text-sm hover:underline">Forgot password?</a>
          </div>
          <button type="submit" class="w-full btn-gold font-bold py-2 px-4">
            <span id="login-text">LOGIN</span>
            <span id="login-spinner" class="loading-spinner hidden"></span>
          </button>
        </form>
        
        <div class="mt-6">
          <p class="text-center text-gray text-sm mb-4">Or login with</p>
          <div class="grid grid-cols-3 gap-3">
            <button type="button" class="bg-darkest text-white py-2 rounded flex items-center justify-center hover:bg-darker transition">
              <i class="fab fa-google mr-2"></i> Google
            </button>
            <button type="button" class="bg-darkest text-white py-2 rounded flex items-center justify-center hover:bg-darker transition">
              <i class="fab fa-apple mr-2"></i> Apple
            </button>
            <button type="button" class="bg-darkest text-white py-2 rounded flex items-center justify-center hover:bg-darker transition">
              <i class="fas fa-phone mr-2"></i> Phone
            </button>
          </div>
        </div>
        
        <p class="text-center text-gray text-sm mt-6">
          Don't have an account? 
          <button id="show-register" class="text-gold cursor-pointer hover:underline bg-transparent border-none">Register</button>
        </p>
      </div>
      
      <div id="register-form" style="display: none;">
        <form class="space-y-4" id="register-form-element">
          <div>
            <label for="register-name" class="block text-gray text-sm mb-1">Full Name</label>
            <input type="text" id="register-name" class="w-full bg-darkest border border-gray rounded px-4 py-2 text-white focus:outline-none focus:border-gold" required>
          </div>
          <div>
            <label for="register-email" class="block text-gray text-sm mb-1">Email</label>
            <input type="email" id="register-email" class="w-full bg-darkest border border-gray rounded px-4 py-2 text-white focus:outline-none focus:border-gold" required>
          </div>
          <div>
            <label for="register-password" class="block text-gray text-sm mb-1">Password</label>
            <input type="password" id="register-password" class="w-full bg-darkest border border-gray rounded px-4 py-2 text-white focus:outline-none focus:border-gold" required minlength="8">
          </div>
          <div>
            <label for="register-confirm" class="block text-gray text-sm mb-1">Confirm Password</label>
            <input type="password" id="register-confirm" class="w-full bg-darkest border border-gray rounded px-4 py-2 text-white focus:outline-none focus:border-gold" required minlength="8">
          </div>
          <div class="flex items-center">
            <input type="checkbox" id="terms" class="mr-2" required>
            <label for="terms" class="text-gray text-sm">
              I agree to the <a href="#" class="text-gold hover:underline">Terms & Conditions</a>
            </label>
          </div>
          <button type="submit" class="w-full btn-gold font-bold py-2 px-4">
            <span id="register-text">REGISTER</span>
            <span id="register-spinner" class="loading-spinner hidden"></span>
          </button>
        </form>
        
        <div class="mt-6">
          <p class="text-center text-gray text-sm mb-4">Or register with</p>
          <div class="grid grid-cols-3 gap-3">
            <button type="button" class="bg-darkest text-white py-2 rounded flex items-center justify-center hover:bg-darker transition">
              <i class="fab fa-google mr-2"></i> Google
            </button>
            <button type="button" class="bg-darkest text-white py-2 rounded flex items-center justify-center hover:bg-darker transition">
              <i class="fab fa-apple mr-2"></i> Apple
            </button>
            <button type="button" class="bg-darkest text-white py-2 rounded flex items-center justify-center hover:bg-darker transition">
              <i class="fas fa-phone mr-2"></i> Phone
            </button>
          </div>
        </div>
        
        <p class="text-center text-gray text-sm mt-6">
          Already have an account? 
          <button id="show-login" class="text-gold cursor-pointer hover:underline bg-transparent border-none">Login</button>
        </p>
      </div>
    </div>
  </div>

  <!-- Toast notification -->
  <div id="toast" class="toast" role="alert" aria-live="assertive">
    <i id="toast-icon" class="toast-icon fas fa-check-circle"></i>
    <div>
      <p id="toast-title" class="font-semibold">Success</p>
      <p id="toast-message" class="text-sm">Item added to cart</p>
    </div>
  </div>

  <!-- Footer -->
  <footer class="bg-darker text-gray text-xs py-10 px-4">
    <div class="container grid grid-cols-1 md:grid-cols-4 gap-8">
      <div>
        <a class="logo text-2xl mb-4 inline-block">turan<span>light</span></a>
        <p class="mb-4 leading-relaxed">
          Shop the latest products and best gear from TuranLight, with free delivery and a convenient return policy.
        </p>
        <div class="flex gap-4 text-gray-dark">
          <a aria-label="Facebook" class="hover:text-white" href="#" target="_blank" rel="noopener noreferrer">
            <i class="fab fa-facebook-f"></i>
          </a>
          <a aria-label="Twitter" class="hover:text-white" href="#" target="_blank" rel="noopener noreferrer">
            <i class="fab fa-twitter"></i>
          </a>
          <a aria-label="Instagram" class="hover:text-white" href="#" target="_blank" rel="noopener noreferrer">
            <i class="fab fa-instagram"></i>
          </a>
        </div>
      </div>
      <div>
        <h4 class="text-white font-semibold mb-4">Latest News</h4>
        <ul class="space-y-3">
          <li class="flex items-start gap-3">
            <div class="bg-gray rounded p-2 text-white text-xs font-semibold w-7 h-7 flex items-center justify-center">
              01
            </div>
            <div>
              <p class="font-semibold text-gray-light mb-1">Summer 2025 Collection</p>
              <p class="text-gray-dark text-2xs">May 10, 2025</p>
            </div>
          </li>
          <li class="flex items-start gap-3">
            <div class="bg-gray rounded p-2 text-white text-xs font-semibold w-7 h-7 flex items-center justify-center">
              02
            </div>
            <div>
              <p class="font-semibold text-gray-light mb-1">New Store Opening</p>
              <p class="text-gray-dark text-2xs">April 20, 2025</p>
            </div>
          </li>
          <li class="flex items-start gap-3">
            <div class="bg-gray rounded p-2 text-white text-xs font-semibold w-7 h-7 flex items-center justify-center">
              03
            </div>
            <div>
              <p class="font-semibold text-gray-light mb-1">Eco-Friendly Products</p>
              <p class="text-gray-dark text-2xs">March 15, 2025</p>
            </div>
          </li>
        </ul>
      </div>
      <div>
        <h4 class="text-white font-semibold mb-4">Information</h4>
        <ul class="space-y-2">
          <li><a class="hover:text-white" href="#">Home</a></li>
          <li><a class="hover:text-white" href="#">Backpacks</a></li>
          <li><a class="hover:text-white" href="#">Soft Shoes</a></li>
          <li><a class="hover:text-white" href="#">Menswear</a></li>
          <li><a class="hover:text-white" href="#">My Page</a></li>
          <li><a class="hover:text-white" href="#">Shoes</a></li>
          <li><a class="hover:text-white" href="#">FAQs</a></li>
        </ul>
      </div>
      <div>
        <h4 class="text-white font-semibold mb-4">Newsletter</h4>
        <p class="mb-3">Subscribe to get special offers, free giveaways, and once-in-a-lifetime deals.</p>
        <form class="flex" id="newsletter-form">
          <input type="email" placeholder="Your email" required
                 class="bg-darkest text-white px-3 py-2 rounded-l text-sm focus:outline-none focus:ring-1 focus:ring-gold w-full">
          <button type="submit" class="btn-gold px-3 py-2 rounded-r text-sm font-semibold">
            <span id="subscribe-text">SUBSCRIBE</span>
            <span id="subscribe-spinner" class="loading-spinner hidden"></span>
          </button>
        </form>
      </div>
    </div>
    <div class="container border-t border-gray mt-8 pt-8 text-center text-gray-dark">
      <p>&copy; 2025 TuranLight. All rights reserved.</p>
    </div>
  </footer>

  <script>
    // Product data
    const products = [
      {
        id: 1,
        title: 'Message Rocket Bag',
        price: '€75.00',
        image: 'https://storage.googleapis.com/a1aa/image/c0a07a39-b825-40fd-9bcd-2cc37c98a5eb.jpg',
        description: 'This stylish black jacket style backpack is perfect for urban adventures. Made with durable materials and featuring multiple compartments, it offers both style and functionality for your daily commute or weekend getaways.',
        details: {
          material: 'Premium Polyester',
          dimensions: '30cm x 20cm x 10cm',
          weight: '0.8kg',
          color: 'Black',
          warranty: '1 Year'
        },
        isNew: true
      },
      {
        id: 2,
        title: 'Printed Cotton Bag',
        price: '€160.00',
        image: 'https://storage.googleapis.com/a1aa/image/427a45e2-76c9-4f11-962d-c3312d9698b2.jpg',
        description: 'Our eco-friendly cotton bag features unique prints that make a statement. With reinforced stitching and comfortable straps, this bag is both practical and fashionable for everyday use.',
        details: {
          material: '100% Organic Cotton',
          dimensions: '35cm x 25cm x 15cm',
          weight: '0.5kg',
          color: 'Multicolor',
          warranty: '6 Months'
        },
        isNew: true
      },
      {
        id: 3,
        title: 'Pastel Bodyform Bag',
        price: '€85.00',
        image: 'https://storage.googleapis.com/a1aa/image/8440a146-b707-4a3b-7a46-1e6ea21aa4c9.jpg',
        description: 'The soft pastel backpack features an ergonomic design for maximum comfort. With padded straps and breathable back panel, it\'s perfect for students and professionals alike.',
        details: {
          material: 'Nylon Blend',
          dimensions: '28cm x 18cm x 8cm',
          weight: '0.6kg',
          color: 'Pastel Pink',
          warranty: '1 Year'
        },
        isNew: true
      },
      {
        id: 4,
        title: 'Victoria Secret Bags',
        price: '€85.00',
        image: 'https://storage.googleapis.com/a1aa/image/114c7573-d6f6-4f0d-843b-dcbf3b497713.jpg',
        description: 'Elegant and sophisticated, this Victoria Secret bag comes with a matching watch. The premium materials and timeless design make it a perfect accessory for any occasion.',
        details: {
          material: 'Genuine Leather',
          dimensions: '25cm x 15cm x 5cm',
          weight: '0.4kg',
          color: 'Brown',
          warranty: '2 Years'
        }
      },
      {
        id: 5,
        title: 'New Style Bag',
        price: '€75.00',
        image: 'https://storage.googleapis.com/a1aa/image/834e0e48-a707-4d2c-be7f-46083da65c22.jpg',
        description: 'This trendy blue backpack features multiple compartments for optimal organization. The water-resistant material and comfortable straps make it ideal for daily use or travel.',
        details: {
          material: 'Water-resistant Polyester',
          dimensions: '32cm x 22cm x 12cm',
          weight: '0.7kg',
          color: 'Blue',
          warranty: '1 Year'
        },
        isNew: true
      },
      {
        id: 6,
        title: 'Vincent Bag',
        price: '€55.00',
        image: 'https://storage.googleapis.com/a1aa/image/6aa78094-1673-4033-2ff7-44195c754ace.jpg',
        description: 'Classic Vincent bag made with premium black leather. The timeless design features multiple pockets and a comfortable shoulder strap for all-day wear.',
        details: {
          material: 'Genuine Leather',
          dimensions: '30cm x 20cm x 10cm',
          weight: '0.9kg',
          color: 'Black',
          warranty: '2 Years'
        }
      },
      {
        id: 7,
        title: 'Colorful Summer Bags',
        price: '€75.00',
        image: 'https://storage.googleapis.com/a1aa/image/75d79328-154c-483b-6f59-c8eff9b34f0a.jpg',
        description: 'Bright and vibrant summer collection bags. Made with lightweight, durable materials perfect for beach trips and summer adventures.',
        details: {
          material: 'Canvas',
          dimensions: '28cm x 18cm x 8cm',
          weight: '0.4kg',
          color: 'Multicolor',
          warranty: '6 Months'
        },
        isNew: true
      },
      {
        id: 8,
        title: 'Luxury Bag',
        price: '€90.00',
        image: 'https://storage.googleapis.com/a1aa/image/29b985c0-6dab-47d7-5a23-68f9bf8af285.jpg',
        description: 'Our luxury bag collection features premium materials and exquisite craftsmanship. Each piece is designed to make a statement while providing practical storage solutions.',
        details: {
          material: 'Italian Leather',
          dimensions: '26cm x 16cm x 6cm',
          weight: '0.8kg',
          color: 'Brown',
          warranty: '3 Years'
        }
      },
      {
        id: 9,
        title: 'Young & Modern Women Bag',
        price: '€70.00',
        image: 'https://storage.googleapis.com/a1aa/image/bb9d932d-ad77-451d-adde-29ce23dd068a.jpg',
        description: 'Designed for the modern woman, this bag features inspirational text and a sleek design. The spacious interior and multiple pockets keep your essentials organized in style.',
        details: {
          material: 'Faux Leather',
          dimensions: '24cm x 14cm x 5cm',
          weight: '0.5kg',
          color: 'Black',
          warranty: '1 Year'
        }
      },
      {
        id: 10,
        title: 'Structured Striped Bags',
        price: '€75.00',
        image: 'https://storage.googleapis.com/a1aa/image/4130213a-90d7-4548-501b-8f1a3a4efcff.jpg',
        description: 'These structured striped bags combine fashion with functionality. The durable construction and timeless striped pattern make them a versatile addition to any wardrobe.',
        details: {
          material: 'Cotton Blend',
          dimensions: '30cm x 20cm x 10cm',
          weight: '0.6kg',
          color: 'Striped',
          warranty: '1 Year'
        }
      },
      {
        id: 11,
        title: 'Bag Cotton Flowers',
        price: '€35.00',
        image: 'https://storage.googleapis.com/a1aa/image/7b9375bb-64f0-4af7-b5b8-a6f6cf03b4f2.jpg',
        description: 'Floral patterned cotton bag perfect for spring and summer. Lightweight yet durable with comfortable straps for all-day comfort.',
        details: {
          material: '100% Cotton',
          dimensions: '32cm x 22cm x 12cm',
          weight: '0.3kg',
          color: 'Floral',
          warranty: '6 Months'
        }
      },
      {
        id: 12,
        title: 'Premium Leather Backpack',
        price: '€120.00',
        image: 'https://storage.googleapis.com/a1aa/image/6aa78094-1673-4033-2ff7-44195c754ace.jpg',
        description: 'Handcrafted premium leather backpack with antique brass hardware. Features a padded laptop compartment and multiple organizational pockets.',
        details: {
          material: 'Full-grain Leather',
          dimensions: '40cm x 30cm x 15cm',
          weight: '1.2kg',
          color: 'Chestnut Brown',
          warranty: 'Lifetime'
        },
        isNew: true
      }
    ];

    // App state
    const state = {
      cartCount: 0,
      wishlist: [],
      currentProduct: null,
      authModalType: 'login',
      isLoggedIn: false
    };

    // DOM elements
    const elements = {
      featuredProducts: document.getElementById('featured-products'),
      weeklyProducts: document.getElementById('weekly-products'),
      productModal: document.getElementById('product-modal'),
      authModal: document.getElementById('auth-modal'),
      modalTitle: document.getElementById('modal-title'),
      modalImage: document.getElementById('modal-image'),
      modalPrice: document.getElementById('modal-price'),
      modalDescription: document.getElementById('modal-description'),
      productDetails: document.getElementById('product-details'),
      relatedProducts: document.getElementById('related-products'),
      cartCount: document.getElementById('cart-count'),
      cartIndicator: document.getElementById('cart-indicator'),
      wishlistBtn: document.getElementById('wishlist-btn'),
      addToCartBtn: document.getElementById('add-to-cart'),
      addToCartText: document.getElementById('add-to-cart-text'),
      addToCartSpinner: document.getElementById('add-to-cart-spinner'),
      loginForm: document.getElementById('login-form'),
      registerForm: document.getElementById('register-form'),
      loginFormElement: document.getElementById('login-form-element'),
      registerFormElement: document.getElementById('register-form-element'),
      authModalTitle: document.getElementById('auth-modal-title'),
      showLogin: document.getElementById('show-login'),
      showRegister: document.getElementById('show-register'),
      loginBtn: document.getElementById('login-btn'),
      mobileLoginBtn: document.getElementById('mobile-login-btn'),
      userBtn: document.getElementById('user-btn'),
      closeModal: document.getElementById('close-modal'),
      closeAuthModal: document.getElementById('close-auth-modal'),
      mainHeader: document.getElementById('main-header'),
      mobileMenuBtn: document.getElementById('mobile-menu-btn'),
      mobileMenu: document.getElementById('mobile-menu'),
      closeMobileMenu: document.getElementById('close-mobile-menu'),
      cartBtn: document.getElementById('cart-btn'),
      toast: document.getElementById('toast'),
      toastTitle: document.getElementById('toast-title'),
      toastMessage: document.getElementById('toast-message'),
      toastIcon: document.getElementById('toast-icon'),
      loginText: document.getElementById('login-text'),
      loginSpinner: document.getElementById('login-spinner'),
      registerText: document.getElementById('register-text'),
      registerSpinner: document.getElementById('register-spinner'),
      subscribeText: document.getElementById('subscribe-text'),
      subscribeSpinner: document.getElementById('subscribe-spinner'),
      newsletterForm: document.getElementById('newsletter-form')
    };

    // Initialize the app
    function init() {
      renderProducts();
      setupEventListeners();
      loadState();
      setupScrollHeader();
    }

    // Render products
    function renderProducts() {
      // Featured products (first 8)
      elements.featuredProducts.innerHTML = products.slice(0, 8).map(product => `
        <article class="product-card" data-id="${product.id}" aria-label="${product.title} - ${product.price}">
          ${product.isNew ? '<span class="new-badge">NEW</span>' : ''}
          <button class="wishlist-btn ${state.wishlist.includes(product.id) ? 'active' : ''}" 
                  aria-label="${state.wishlist.includes(product.id) ? 'Remove from wishlist' : 'Add to wishlist'}">
            <i class="${state.wishlist.includes(product.id) ? 'fas' : 'far'} fa-heart"></i>
          </button>
          <img src="${product.image}" alt="${product.title}" loading="lazy">
          <h3 class="text-white text-sm font-semibold mb-1">${product.title}</h3>
          <p class="text-gold text-sm font-semibold">${product.price}</p>
        </article>
      `).join('');

      // Weekly top selling (last 4)
      elements.weeklyProducts.innerHTML = products.slice(-4).map(product => `
        <article class="product-card" data-id="${product.id}" aria-label="${product.title} - ${product.price}">
          ${product.isNew ? '<span class="new-badge">NEW</span>' : ''}
          <button class="wishlist-btn ${state.wishlist.includes(product.id) ? 'active' : ''}" 
                  aria-label="${state.wishlist.includes(product.id) ? 'Remove from wishlist' : 'Add to wishlist'}">
            <i class="${state.wishlist.includes(product.id) ? 'fas' : 'far'} fa-heart"></i>
          </button>
          <img src="${product.image}" alt="${product.title}" loading="lazy">
          <h3 class="text-white text-sm font-semibold mb-1">${product.title}</h3>
          <p class="text-gold text-sm font-semibold">${product.price}</p>
        </article>
      `).join('');
    }

    // Setup event listeners
    function setupEventListeners() {
      // Product card clicks
      document.querySelectorAll('.product-card').forEach(card => {
        card.addEventListener('click', (e) => {
          if (e.target.closest('.wishlist-btn')) return;
          const productId = parseInt(card.dataset.id);
          const product = products.find(p => p.id === productId);
          if (product) {
            openProductModal(product);
          }
        });
      });

      // Wishlist buttons
      document.querySelectorAll('.wishlist-btn').forEach(btn => {
        btn.addEventListener('click', (e) => {
          e.stopPropagation();
          const card = e.target.closest('.product-card');
          const productId = parseInt(card.dataset.id);
          toggleWishlist(productId);
        });
      });

      // Modal buttons
      elements.closeModal.addEventListener('click', closeProductModal);
      elements.closeAuthModal.addEventListener('click', closeAuthModal);
      elements.addToCartBtn.addEventListener('click', addToCart);
      elements.wishlistBtn.addEventListener('click', toggleCurrentWishlist);

      // Auth modal
      elements.loginBtn.addEventListener('click', () => openAuthModal('login'));
      elements.mobileLoginBtn.addEventListener('click', () => openAuthModal('login'));
      elements.userBtn.addEventListener('click', () => openAuthModal(state.isLoggedIn ? 'account' : 'login'));
      elements.showLogin.addEventListener('click', () => openAuthModal('login'));
      elements.showRegister.addEventListener('click', () => openAuthModal('register'));

      // Mobile menu
      elements.mobileMenuBtn.addEventListener('click', openMobileMenu);
      elements.closeMobileMenu.addEventListener('click', closeMobileMenu);

      // Cart button
      elements.cartBtn.addEventListener('click', () => {
        showToast('Cart', 'Your cart is currently empty', 'info');
      });

      // Form submissions
      elements.loginFormElement.addEventListener('submit', handleLogin);
      elements.registerFormElement.addEventListener('submit', handleRegister);
      elements.newsletterForm.addEventListener('submit', handleNewsletter);

      // Close modals when clicking outside
      document.addEventListener('click', (e) => {
        if (elements.productModal.classList.contains('active') && 
            !e.target.closest('.modal-content') && 
            !e.target.closest('.product-card')) {
          closeProductModal();
        }
        if (elements.authModal.classList.contains('active') && 
            !e.target.closest('.modal-content') && 
            !e.target.closest('#login-btn') && 
            !e.target.closest('#user-btn') &&
            !e.target.closest('#mobile-login-btn')) {
          closeAuthModal();
        }
      });

      // Close modals with Escape key
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
          if (elements.productModal.classList.contains('active')) {
            closeProductModal();
          }
          if (elements.authModal.classList.contains('active')) {
            closeAuthModal();
          }
          if (elements.mobileMenu.classList.contains('active')) {
            closeMobileMenu();
          }
        }
      });
    }

    // Load state from localStorage
    function loadState() {
      const cartCount = localStorage.getItem('cartCount');
      if (cartCount) {
        state.cartCount = parseInt(cartCount);
        updateCartCount();
      }
      
      const wishlist = localStorage.getItem('wishlist');
      if (wishlist) {
        state.wishlist = JSON.parse(wishlist);
      }
      
      const isLoggedIn = localStorage.getItem('isLoggedIn');
      if (isLoggedIn) {
        state.isLoggedIn = JSON.parse(isLoggedIn);
      }
    }

    // Product modal functions
    function openProductModal(product) {
      state.currentProduct = product;
      elements.modalTitle.textContent = product.title;
      elements.modalImage.src = product.image;
      elements.modalImage.alt = product.title;
      elements.modalPrice.textContent = product.price;
      elements.modalDescription.textContent = product.description;
      
      // Update product details
      elements.productDetails.innerHTML = `
        <li><span class="text-gray-dark">Material:</span> ${product.details.material}</li>
        <li><span class="text-gray-dark">Dimensions:</span> ${product.details.dimensions}</li>
        <li><span class="text-gray-dark">Weight:</span> ${product.details.weight}</li>
        <li><span class="text-gray-dark">Color:</span> ${product.details.color}</li>
        <li><span class="text-gray-dark">Warranty:</span> ${product.details.warranty}</li>
      `;
      
      // Update wishlist button state
      const wishlistIcon = elements.wishlistBtn.querySelector('i');
      wishlistIcon.className = state.wishlist.includes(product.id) ? 'fas fa-heart mr-2 text-red' : 'far fa-heart mr-2';
      
      // Show related products (excluding current product)
      const related = products.filter(p => p.id !== product.id).slice(0, 4);
      elements.relatedProducts.innerHTML = related.map(p => `
        <article class="bg-darkest rounded-lg p-3 cursor-pointer hover:bg-darker transition" data-id="${p.id}" aria-label="${p.title} - ${p.price}">
          <img src="${p.image}" alt="${p.title}" class="w-full h-32 object-contain mb-2" loading="lazy">
          <h3 class="text-white text-sm font-semibold mb-1">${p.title}</h3>
          <p class="text-gold text-sm font-semibold">${p.price}</p>
        </article>
      `).join('');
      
      // Add click events for related products
      elements.relatedProducts.querySelectorAll('article').forEach(article => {
        article.addEventListener('click', () => {
          const relatedProductId = parseInt(article.dataset.id);
          const relatedProduct = products.find(p => p.id === relatedProductId);
          if (relatedProduct) {
            openProductModal(relatedProduct);
            // Scroll to top of modal
            document.querySelector('.modal-content').scrollTo(0, 0);
          }
        });
      });
      
      elements.productModal.classList.add('active');
      document.body.style.overflow = 'hidden';
    }

    function closeProductModal() {
      elements.productModal.classList.remove('active');
      document.body.style.overflow = '';
    }

    // Auth modal functions
    function openAuthModal(type) {
      state.authModalType = type;
      if (type === 'login') {
        elements.loginForm.style.display = 'block';
        elements.registerForm.style.display = 'none';
        elements.authModalTitle.textContent = 'Login';
      } else if (type === 'register') {
        elements.loginForm.style.display = 'none';
        elements.registerForm.style.display = 'block';
        elements.authModalTitle.textContent = 'Register';
      }
      elements.authModal.classList.add('active');
      document.body.style.overflow = 'hidden';
      closeMobileMenu();
    }

    function closeAuthModal() {
      elements.authModal.classList.remove('active');
      document.body.style.overflow = '';
    }

    // Mobile menu functions
    function openMobileMenu() {
      elements.mobileMenu.classList.add('active');
      document.body.style.overflow = 'hidden';
    }

    function closeMobileMenu() {
      elements.mobileMenu.classList.remove('active');
      document.body.style.overflow = '';
    }

    // Form handlers
    function handleLogin(e) {
      e.preventDefault();
      const email = document.getElementById('login-email').value;
      const password = document.getElementById('login-password').value;
      
      // Show loading state
      elements.loginText.classList.add('hidden');
      elements.loginSpinner.classList.remove('hidden');
      
      // Simulate API call
      setTimeout(() => {
        // Hide loading state
        elements.loginText.classList.remove('hidden');
        elements.loginSpinner.classList.add('hidden');
        
        // For demo purposes, any non-empty password will work
        if (email && password) {
          state.isLoggedIn = true;
          localStorage.setItem('isLoggedIn', 'true');
          closeAuthModal();
          showToast('Welcome back!', 'You have successfully logged in', 'success');
        } else {
          showToast('Login failed', 'Please check your email and password', 'error');
        }
      }, 1500);
    }

    function handleRegister(e) {
      e.preventDefault();
      const name = document.getElementById('register-name').value;
      const email = document.getElementById('register-email').value;
      const password = document.getElementById('register-password').value;
      const confirmPassword = document.getElementById('register-confirm').value;
      const terms = document.getElementById('terms').checked;
      
      // Show loading state
      elements.registerText.classList.add('hidden');
      elements.registerSpinner.classList.remove('hidden');
      
      // Simulate API call
      setTimeout(() => {
        // Hide loading state
        elements.registerText.classList.remove('hidden');
        elements.registerSpinner.classList.add('hidden');
        
        // For demo purposes, any non-empty data will work
        if (name && email && password && confirmPassword && terms) {
          if (password !== confirmPassword) {
            showToast('Registration failed', 'Passwords do not match', 'error');
            return;
          }
          
          state.isLoggedIn = true;
          localStorage.setItem('isLoggedIn', 'true');
          closeAuthModal();
          showToast('Welcome!', 'Your account has been created', 'success');
        } else {
          showToast('Registration failed', 'Please fill all fields and accept terms', 'error');
        }
      }, 1500);
    }

    function handleNewsletter(e) {
      e.preventDefault();
      const email = e.target.querySelector('input').value;
      
      // Show loading state
      elements.subscribeText.classList.add('hidden');
      elements.subscribeSpinner.classList.remove('hidden');
      
      // Simulate API call
      setTimeout(() => {
        // Hide loading state
        elements.subscribeText.classList.remove('hidden');
        elements.subscribeSpinner.classList.add('hidden');
        
        // For demo purposes, any email will work
        if (email) {
          e.target.reset();
          showToast('Thank you!', 'You have subscribed to our newsletter', 'success');
        } else {
          showToast('Error', 'Please enter a valid email', 'error');
        }
      }, 1000);
    }

    // Cart functions
    function addToCart() {
      // Show loading state
      elements.addToCartText.classList.add('hidden');
      elements.addToCartSpinner.classList.remove('hidden');
      
      // Simulate API call
      setTimeout(() => {
        // Hide loading state
        elements.addToCartText.classList.remove('hidden');
        elements.addToCartSpinner.classList.add('hidden');
        
        state.cartCount++;
        updateCartCount();
        saveCartCount();
        showToast('Added to cart', `${state.currentProduct.title} was added to your cart`, 'success');
        closeProductModal();
      }, 800);
    }

    function updateCartCount() {
      elements.cartCount.textContent = state.cartCount;
      if (state.cartCount > 0) {
        elements.cartIndicator.textContent = state.cartCount;
        elements.cartIndicator.style.display = 'flex';
      } else {
        elements.cartIndicator.style.display = 'none';
      }
    }

    function saveCartCount() {
      localStorage.setItem('cartCount', state.cartCount);
    }

    // Wishlist functions
    function toggleWishlist(productId) {
      const index = state.wishlist.indexOf(productId);
      if (index === -1) {
        state.wishlist.push(productId);
        showToast('Wishlist', 'Product added to wishlist', 'success');
      } else {
        state.wishlist.splice(index, 1);
        showToast('Wishlist', 'Product removed from wishlist', 'info');
      }
      renderProducts();
      saveWishlist();
    }

    function toggleCurrentWishlist() {
      if (state.currentProduct) {
        toggleWishlist(state.currentProduct.id);
        // Update the button in the modal
        const wishlistIcon = elements.wishlistBtn.querySelector('i');
        if (state.wishlist.includes(state.currentProduct.id)) {
          wishlistIcon.className = 'fas fa-heart mr-2 text-red';
        } else {
          wishlistIcon.className = 'far fa-heart mr-2';
        }
      }
    }

    function saveWishlist() {
      localStorage.setItem('wishlist', JSON.stringify(state.wishlist));
    }

    // Toast notification
    function showToast(title, message, type) {
      elements.toastTitle.textContent = title;
      elements.toastMessage.textContent = message;
      
      // Set icon and color based on type
      switch(type) {
        case 'success':
          elements.toastIcon.className = 'toast-icon fas fa-check-circle';
          elements.toast.className = 'toast success';
          break;
        case 'error':
          elements.toastIcon.className = 'toast-icon fas fa-exclamation-circle';
          elements.toast.className = 'toast error';
          break;
        case 'warning':
          elements.toastIcon.className = 'toast-icon fas fa-exclamation-triangle';
          elements.toast.className = 'toast warning';
          break;
        case 'info':
          elements.toastIcon.className = 'toast-icon fas fa-info-circle';
          elements.toast.className = 'toast';
          break;
        default:
          elements.toastIcon.className = 'toast-icon fas fa-info-circle';
          elements.toast.className = 'toast';
      }
      
      // Show toast
      elements.toast.classList.add('show');
      
      // Hide after 4 seconds
      setTimeout(() => {
        elements.toast.classList.remove('show');
      }, 4000);
    }

    // Header scroll effect
    function setupScrollHeader() {
      window.addEventListener('scroll', () => {
        if (window.scrollY > 100) {
          elements.mainHeader.classList.add('scrolled');
        } else {
          elements.mainHeader.classList.remove('scrolled');
        }
      });
    }

    // Initialize the app
    document.addEventListener('DOMContentLoaded', init);
  </script>
</body>
</html>
